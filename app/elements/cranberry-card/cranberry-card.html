<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">

<dom-module id="cranberry-card">
  <template>
    <style include="shared-styles">
      @import "theme.css";
      @import "cranberry-card/cranberry-card";
    </style>
    <iron-media-query query="(min-width: 1600px)" query-matches="{{bp13}}"></iron-media-query>
    <iron-media-query query="(min-width: 1440px) and (max-width:1599px)" query-matches="{{bp12}}"></iron-media-query>
    <iron-media-query query="(min-width: 1280px) and (max-width:1439px)" query-matches="{{bp11}}"></iron-media-query>
    <iron-media-query query="(min-width: 1024px) and (max-width:1279px)" query-matches="{{bp10}}"></iron-media-query>
    <iron-media-query query="(min-width: 960px) and (max-width:1023px)" query-matches="{{bp9}}"></iron-media-query>
    <iron-media-query query="(min-width: 840px) and (max-width:959px)" query-matches="{{bp8}}"></iron-media-query>
    <iron-media-query query="(min-width: 720px) and (max-width:839px)" query-matches="{{bp7}}"></iron-media-query>
    <iron-media-query query="(min-width: 640px) and (max-width:719px)" query-matches="{{bp6}}"></iron-media-query>
    <iron-media-query query="(min-width: 600px) and (max-width:639px)" query-matches="{{bp5}}"></iron-media-query>
    <iron-media-query query="(min-width: 480px) and (max-width:599px)" query-matches="{{bp4}}"></iron-media-query>
    <iron-media-query query="(min-width: 400px) and (max-width:479px)" query-matches="{{bp3}}"></iron-media-query>
    <iron-media-query query="(min-width: 360px) and (max-width:399px)" query-matches="{{bp2}}"></iron-media-query>
    <iron-media-query query="(min-width: 320px) and (max-width:359px)" query-matches="{{bp1}}"></iron-media-query>
    <div class="card" breakpoints$="[[breakpoints]]" advertisement$="[[advertisement]]" bp1$="[[bp1]]" bp2$="[[bp2]]" bp3$="[[bp3]]" bp4$="[[bp4]]" bp5$="[[bp5]]" bp6$="[[bp6]]" bp7$="[[bp7]]" bp8$="[[bp8]]" bp9$="[[bp9]]" bp10$="[[bp10]]" bp11$="[[bp11]]" bp12$="[[bp12]]" bp13$="[[bp13]]">
      <div class="css-info" bp13$="[[bp13]]" hidden$="[[!bp13]]">1600+, Margin: 10, Padding: 8, Min: 300, Max: 300</div>
      <div class="css-info" bp12$="[[bp12]]" hidden$="[[!bp12]]">1440-1599, Margin: 40, Padding: 20, Min: 300, Max: 339</div>
      <div class="css-info" bp11$="[[bp11]]" hidden$="[[!bp11]]">1280-1439, Margin: 8, Padding: 8, Min: 300, Max: 339</div>
      <div class="css-info" bp10$="[[bp10]]" hidden$="[[!bp10]]">1024-1279, Margin: 26, Padding: 12, Min: 300, Max: 385</div>
      <div class="css-info" bp9$="[[bp9]]" hidden$="[[!bp9]]">960-1023, Margin: 6, Padding: 8, Min: 300, Max: 321</div>
      <div class="css-info" bp8$="[[bp8]]" hidden$="[[!bp8]]">840-959, Margin: 48, Padding: 12, Min: 348, Max: 407</div>
      <div class="css-info" bp7$="[[bp7]]" hidden$="[[!bp7]]">720-839, Margin: 36, Padding: 12, Min: 300, Max: 359</div>
      <div class="css-info" bp6$="[[bp6]]" hidden$="[[!bp6]]">640-719, Margin: 4, Padding: 8, Min: 300, Max: 335</div>
      <div class="css-info" bp5$="[[bp5]]" hidden$="[[!bp5]]">600-639, Margin: 24, Padding: 24, Min: 504, Max: 543</div>
      <div class="css-info" bp4$="[[bp4]]" hidden$="[[!bp4]]">480-599, Margin: 40, Padding: 20, Min: 360, Max: 479</div>
      <div class="css-info" bp3$="[[bp3]]" hidden$="[[!bp3]]">400-479, Margin: 30, Padding: 20, Min: 300, Max: 379</div>
      <div class="css-info" bp2$="[[bp2]]" hidden$="[[!bp2]]">360-399, Margin: 20, Padding: 12, Min: 300, Max: 339</div>
      <div class="css-info" bp1$="[[bp1]]" hidden$="[[!bp1]]">320-359, Margin: 5, Padding: 5, Min: 300, Max: 339</div>
      <template is="dom-if" if="[[item.contentType]]">
        <a href$="[[_computeUrl(item)]]">
          <div class="card-header">
            <div class="card-icons"><iron-icon icon="image:photo-camera" hidden$="[[!_checkGallery(item.contentType)]]"></iron-icon></div>
            <div class="card-header-overlay" hidden$="[[!item.mediaAssets.images.0.small]]"></div>
            <iron-image
              alt="[[item.title]]"
              hidden$="[[!item.mediaAssets.images.0.small]]"
              src$="{$ config.baseDomain $}/[[item.mediaAssets.images.0.medium]]"
              preload
              fade
              sizing="cover">
            </iron-image>
            <div hidden$="[[!item.title]]" class$="[[_computeHeadingClass(item.mediaAssets.images.0.small)]]">[[item.title]]</div>
          </div>
          <div class="card-content">
              <div class="content-date">[[item.updated]]</div>
              <div class="content-preview">[[item.preview]]</div>
          </div>
        </a>
        <div class="card-info">
          <div class="content-tag"><a href$="/section/[[item.sectionInformation.primarySectionLabel]]">[[_scrubTag(item.sectionInformation.primarySection)]]</a></div>
          <div class="content-comments"><a href$="[[_computeUrl(item)]]#comments">[[item.socialInformation.comments]] &nbsp;<iron-icon icon="communication:chat"></iron-icon></a></div>
        </div>
      </template>
      <content></content>
    </div>
    <!-- Temporary Fix to ensure Nativos ads come in properly -->
    </template>
    <script src="cranberry-card.js"></script>
</dom-module>
