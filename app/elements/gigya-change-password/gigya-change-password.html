<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/gold-password-input/gold-password-input.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../gigya-styles/gigya-styles.html">

<dom-module id="gigya-change-password">
  <template>
    <style include="shared-styles">
      @import "theme.css";
      @import "gigya-change-password/gigya-change-password";
    </style>
    <style include="gigya-styles"></style>

    <iron-media-query query="(min-width: 960px)" query-matches="{{desktop}}"></iron-media-query>
    <iron-media-query query="(min-width: 720px) and (max-width:959px)" query-matches="{{tablet}}"></iron-media-query>
    <iron-media-query query="(max-width:719px)" query-matches="{{mobile}}"></iron-media-query>

    <h2>Change Password</h2>
    <div class="forgot-password-form">
      <form is="iron-form" id="changePasswordForm">
        <div class="form-input">
          <paper-input name="oldPassword" label="Current Password *" type="password" required error-message="You must provide your current password."></paper-input>
          <gold-password-input name="password" label="New Password *" minlength="6" maxlength="24" validator="gold-password-input-validator" auto-validate required reveal strength-meter error-message="A password between 6-24 characters is required."></gold-password-input>
        </div>
        <div class="user-messages">
          <template is="dom-repeat" items="{{notices}}">
            <div class$="notice {{item.type}}">
              <div class="notice-info">
                <div class="notice-message">{{item.message}}</div>
                <div hidden>{{item.code}}</div>
              </div>
            </div>
          </template>
        </div>
        <div class="form-buttons" mobile-layout$="{{mobile}}">
          <paper-spinner id="spinner" active$="[[spinnerActive]]" hidden$="[[!spinnerActive]]"></paper-spinner>
          <paper-button on-tap="_handleChangePassword" id="submit" raised>Change Password</paper-button>
          <!-- <paper-button on-tap="_handleReset" id="reset">Reset</paper-button> -->
        </div>
      </form>
    </div>
    <gold-password-input-validator pattern="[A-zA-Z0-9]*"></gold-password-input-validator>
  </template>
  <script src="gigya-change-password.js"></script>
</dom-module>
