<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/byutv-jsonp/byutv-jsonp.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">

<dom-module id="cranberry-featured-content">
  <template>
    <style>
      @import "cranberry-featured-content/cranberry-featured-content";
    </style>
    <iron-media-query
      query="(max-width:640px)"
      query-matches="{{slider}}">
    </iron-media-query>
    <byutv-jsonp
      on-response="_handleResponse"
      on-load="_handleLoad"
      last-response="{{response}}"
      last-request="{{request}}"
      last-error="{{error}}"
      id="request"
      cache>
    </byutv-jsonp>
    <!-- Need to rework this for array selectors -->
    <div hidden$="{{slider}}">
      <div class="featured-content">
        <div class="featured-main">
          <a href="/story/[[items.0.itemId]]">
            <paper-card heading="[[items.0.title]]" image="http://www.standard.net/[[items.0.mediaAssets.images.0.exlarge]]" elevation="1">
              <div class="card-actions">
                <div class="card-info">
                  <span class="content-tag">[[items.0.sectionInformation.primarySection]]</span>
                  <span class="content-date">[[items.0.updated]]</span>
                </div>
              </div>
            </paper-card>
          </a>
        </div>
        <div class="featured-list">
          <a href="/story/[[items.1.itemId]]">
            <paper-card heading="[[items.1.title]]" image="http://www.standard.net/[[items.1.mediaAssets.images.0.large]]" elevation="1">
              <div class="card-actions">
                <div class="card-info">
                  <span class="content-tag">[[items.1.sectionInformation.primarySection]]</span>
                  <span class="content-date">[[items.1.updated]]</span>
                </div>
              </div>
            </paper-card>
          </a>
          <a href="/story/[[items.2.itemId]]">
            <paper-card heading="[[items.2.title]]" image="http://www.standard.net/[[items.2.mediaAssets.images.0.large]]" elevation="1">
              <div class="card-actions">
                <div class="card-info">
                  <span class="content-tag">[[items.2.sectionInformation.primarySection]]</span>
                  <span class="content-date">[[items.2.updated]]</span>
                </div>
              </div>
            </paper-card>
          </a>
        </div>
      </div>
    </div>
    <div hidden$="{{!slider}}">
        <l2t-paper-slider total-slides="3">
          <paper-slide>
            <paper-card heading="[[items.0.title]]" image="http://www.standard.net/[[items.0.mediaAssets.images.0.medium]]" elevation="1">
              <div class="card-content">
                [[items.0.title]]
              </div>
              <div class="card-actions">
                <div class="card-info">
                  <span class="content-tag">[[items.0.sectionInformation.primarySection]]</span>
                  <span class="content-date">[[items.0.updated]]</span>
                </div>
              </div>
            </paper-card>
          </paper-slide>
          <paper-slide>
            <paper-card heading="[[items.1.title]]" image="http://www.standard.net/[[items.1.mediaAssets.images.0.medium]]" elevation="1">
              <div class="card-content">
                [[items.1.title]]
              </div>
              <div class="card-actions">
                <div class="card-info">
                  <span class="content-tag">[[items.1.sectionInformation.primarySection]]</span>
                  <span class="content-date">[[items.1.updated]]</span>
                </div>
              </div>
            </paper-card>
          </paper-slide>
          <paper-slide>
            <paper-card heading="[[items.2.title]]" image="http://www.standard.net/[[items.2.mediaAssets.images.0.medium]]" elevation="1">
              <div class="card-content">
                [[items.2.title]]
              </div>
              <div class="card-actions">
                <div class="card-info">
                  <span class="content-tag">[[items.2.sectionInformation.primarySection]]</span>
                  <span class="content-date">[[items.2.updated]]</span>
                </div>
              </div>
            </paper-card>
          </paper-slide>
        </l2t-paper-slider>
    </div>
  </template>
  <script src="cranberry-featured-content.js"></script>
</dom-module>
