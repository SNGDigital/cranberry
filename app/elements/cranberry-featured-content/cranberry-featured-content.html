<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/byutv-jsonp/byutv-jsonp.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/l2t-paper-slider/l2t-paper-slider.html">
<link rel="import" href="../cranberry-content-card/cranberry-content-card.html">

<dom-module id="cranberry-featured-content">
  <template>
    <style>
      @import "cranberry-featured-content/cranberry-featured-content";
    </style>
    <iron-media-query
      query="(max-width:640px)"
      query-matches="{{slider}}">
    </iron-media-query>
    <byutv-jsonp
      on-response="_handleResponse"
      on-load="_handleLoad"
      last-response="{{response}}"
      last-request="{{request}}"
      last-error="{{error}}"
      id="request">
    </byutv-jsonp>
    <!-- Need to rework this for array selectors -->
    <div hidden$="{{slider}}">
      <div class="featured-content">
        <div class="featured-main">
          <cranberry-content-card item="[[items.0]]" featured main></cranberry-content-card>
        </div>
        <div class="featured-list">
          <cranberry-content-card item="[[items.1]]" featured list></cranberry-content-card>
          <cranberry-content-card item="[[items.2]]" featured list></cranberry-content-card>
        </div>
      </div>
    </div>
    <div hidden$="{{!slider}}">
        <l2t-paper-slider total-slides="3">
          <template is="dom-repeat" items="{{items}}">
            <paper-slide>
              <cranberry-content-card item="[[item]]" featured slider></cranberry-content-card>
            </paper-slide>
          </template>
        </l2t-paper-slider>
    </div>
  </template>
  <script src="cranberry-featured-content.js"></script>
</dom-module>
