<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/byutv-jsonp/byutv-jsonp.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/l2t-paper-slider/l2t-paper-slider.html">
<link rel="import" href="../cranberry-card/cranberry-card.html">

<dom-module id="cranberry-featured-content">
  <template>
    <style>
      @import "cranberry-featured-content/cranberry-featured-content";
    </style>
    <iron-media-query
      query="(max-width:640px)"
      query-matches="{{slider}}">
    </iron-media-query>

    <template is="dom-if" if="[[_checkItems(items)]]" restamp>
      <div class="featured-story-content" hidden$="[[livestream]]">
        <template is="dom-if" if="[[!slider]]">
          <div>
            <div class="featured-content">
              <div class="featured-main">
                <cranberry-card item="[[items.0]]" index="0" homepage$="[[homepage]]" featured></cranberry-card>
              </div>
              <div class="featured-list">
                <cranberry-card item="[[items.1]]" index="1" homepage$="[[homepage]]" featured></cranberry-card>
                <cranberry-card item="[[items.2]]" index="2" homepage$="[[homepage]]" featured></cranberry-card>
              </div>
            </div>
          </div>
        </template>
        <template is="dom-if" if="[[slider]]">
          <div>
              <l2t-paper-slider total-slides="3" sensitivity="low">
                <template is="dom-repeat" items="{{items}}">
                  <paper-slide>
                    <cranberry-card item="[[item]]" index="[[index]]" homepage$="[[homepage]]" featured></cranberry-card>
                  </paper-slide>
                </template>
              </l2t-paper-slider>
          </div>
        </template>
      </div>
      <div class="livestream-content" hidden$="[[!livestream]]">
        <div class="livestream">
          <iframe src="[[_computeLivestreamURL(livestreamItem.url)]]" id="livestreamPlayer" frameborder="0" scrolling="no" width="620px" height="400px"></iframe>
        </div>
      </div>
    </template>
  </template>
  <script src="cranberry-featured-content.js"></script>
</dom-module>
