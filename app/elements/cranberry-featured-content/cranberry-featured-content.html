<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/byutv-jsonp/byutv-jsonp.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../cranberry-card/cranberry-card.html">

<dom-module id="cranberry-featured-content">
  <template>
    <style>
      @import "cranberry-featured-content/cranberry-featured-content";
    </style>
    <iron-media-query
      query="(max-width:668px)"
      query-matches="{{slider}}">
    </iron-media-query>

    <template is="dom-if" if="[[_checkItems(items)]]" restamp>
      <div class="featured-story-content" hidden$="[[livestream]]">
        <template is="dom-if" if="[[!slider]]">
          <div>
            <div class="featured-content">
              <div class="featured-main">
                <cranberry-card item="[[items.0]]" index="0" homepage$="[[homepage]]" featured></cranberry-card>
              </div>
              <div class="featured-list">
                <cranberry-card item="[[items.1]]" index="1" homepage$="[[homepage]]" featured></cranberry-card>
                <cranberry-card item="[[items.2]]" index="2" homepage$="[[homepage]]" featured></cranberry-card>
              </div>
            </div>
          </div>
        </template>
        <template is="dom-if" if="[[slider]]">
          <div class="featured-mobile-wrapper">
            <div class="featured-main-mobile">
              <cranberry-card item="[[items.0]]" index="0" homepage$="[[homepage]]" main-featured mobile-featured mobile-large-image></cranberry-card>
            </div>
            <div class="line-break-container"></div>
            <div class="sub-featured">
              <div class="sub-featured-card">
                <cranberry-card item="[[items.1]]" index="1" homepage$="[[homepage]]" mobile-featured></cranberry-card>
              </div>
              <div class="sub-featured-card">
                <cranberry-card item="[[items.2]]" index="2" homepage$="[[homepage]]" mobile-featured></cranberry-card>
              </div>
            </div>
          </div>
        </template>
      </div>
      <template is="dom-if" if="[[livestream]]" restamp>
        <div class="livestream-content" hidden$="[[!livestream]]">
          <div class="livestream">
            <iframe src="[[_computeLivestreamURL(livestreamItem.url)]]" id="livestreamPlayer" frameborder="0" scrolling="no" width="620px" height="400px"></iframe>
          </div>
        </div>
      </template>
    </template>
  </template>
  <script src="cranberry-featured-content.js"></script>
</dom-module>
