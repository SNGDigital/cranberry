<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-signals/iron-signals.html">

<dom-module id="cranberry-google-analytics">
  <!--
  Track an Event:

      this.fire('iron-signal', {name: 'track-event',data: {category: "messages",action: "send_text_message",label: "group",value: 1}});

  Track a page Change:

      this.fire('iron-signal', {name: 'track-page', data: { path: "/about.html" } });

  To use Google Analytics user id attribution https://developers.google.com/analytics/devguides/collection/analyticsjs/user-id set the user id property on the element:

      document.querySelector("start-google-analytics-tracker").userId = loggedInUserId;
  -->
  <template>
      <iron-signals on-iron-signal-track-page="trackPage" on-iron-signal-track-event="trackEvent"></iron-signals>
  </template>
  <!-- <script src="../../scripts/analytics.js"></script> -->
  <!-- Not using this for now. This is more of a hands off approach for SPA but some of the plugins will be useful. -->
  <!-- <script src="../../scripts/autotrack.js"></script> -->
  <script src="cranberry-google-analytics.js"></script>
</dom-module>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName('link')[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','scripts/analytics.js','ga');
</script>
