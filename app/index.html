<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<html lang="{$ lang $}">

<meta name="fragment" content="!">

{% include "head.html" %}

<!-- Don't use <body unresolved>. It's a simple FOUC solution, but hides
     the page until imports and Polymer are loaded. Intead, control FOUC manually with
     a skeleton. -->
<body>
  <!--<script type="text/javascript">
    var TriggerPrompt = function(articleUrl, contentId) {
      var ARTICLE_URL = articleUrl;
      var CONTENT_ID = contentId || '';
      var el = document.createElement('script');
  var url = 'http://survey.g.doubleclick.net/survey?site={$ config.google.surveys $}' +
                '&url=' + encodeURIComponent(ARTICLE_URL) +
                (CONTENT_ID ? '&cid=' + encodeURIComponent(CONTENT_ID) : '') +
                '&random=' + (new Date).getTime() +
                '&after=1';
      el.setAttribute('src', url);
      var head = document.getElementsByTagName('head')[0] ||
          document.getElementsByTagName('body')[0];
      head.appendChild(el);
    };
  </script>-->
  <span id="browser-sync-binding"></span>

  <!-- Light weight skeleton is outside of Polymer/imports and styled by
       the main page. 1st paint is fast, even on polyfilled browsers. Alternatively,
       one could create an "app shell" and style the page's un-upgraded elements
       similar to their final upgraded version. -->
  {% include "skeleton.html" %}

  <!-- Elements wait on the page and are upgraded when elements/base-bundle.html loads. -->
  <cranberry-base id="app" side-nav='{$ config.sideMenu | dump $}'></cranberry-base>

  <!-- <cranberry-base-libercus-section id="app"></cranberry-base-libercus-section> -->

  <!-- Service Worker support -->
   <platinum-sw-register auto-register
                        clients-claim
                        skip-waiting
                        base-uri="bower_components/platinum-sw/bootstrap"> 

    <!-- Google Analytics offline support -->
    <!-- <platinum-sw-offline-analytics></platinum-sw-offline-analytics> -->

    <!-- Offline caching support -->
     <platinum-sw-cache default-cache-strategy="fastest"
                       cache-config-file="cache-config.json">
    </platinum-sw-cache>
  </platinum-sw-register> 

  <!-- build:js scripts/app.min.js async -->
  <script src="scripts/app.js"></script>
  <!-- endbuild-->
  <script type="text/javascript" src="//s.ntv.io/serve/load.js" defer></script>
  <!-- Google Analytics tracker -->
  <!-- <start-google-analytics-tracker code="{$ config.google.analytics $}"></start-google-analytics-tracker> -->

</body>

</html>
